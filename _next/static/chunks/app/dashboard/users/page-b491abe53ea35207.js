(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[242],{883:(e,t,a)=>{"use strict";a.d(t,{H:()=>s});let s="http://localhost:3000"},2684:(e,t,a)=>{Promise.resolve().then(a.bind(a,7365)),Promise.resolve().then(a.bind(a,5499)),Promise.resolve().then(a.bind(a,5559))},5559:(e,t,a)=>{"use strict";a.d(t,{UserAnalytics:()=>E});var s=a(5155),r=a(2115),n=a(9852),l=a(8482),i=a(8145),o=a(8524),c=a(5784),d=a(6081),u=a(3655),x="Progress",[m,h]=(0,d.A)(x),[f,p]=m(x),v=r.forwardRef((e,t)=>{var a,r,n,l;let{__scopeProgress:i,value:o=null,max:c,getValueLabel:d=j,...x}=e;(c||0===c)&&!N(c)&&console.error((a="".concat(c),r="Progress","Invalid prop `max` of value `".concat(a,"` supplied to `").concat(r,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let m=N(c)?c:100;null===o||A(o,m)||console.error((n="".concat(o),l="Progress","Invalid prop `value` of value `".concat(n,"` supplied to `").concat(l,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let h=A(o,m)?o:null,p=y(h)?d(h,m):void 0;return(0,s.jsx)(f,{scope:i,value:h,max:m,children:(0,s.jsx)(u.sG.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":y(h)?h:void 0,"aria-valuetext":p,role:"progressbar","data-state":w(h,m),"data-value":null!=h?h:void 0,"data-max":m,...x,ref:t})})});v.displayName=x;var g="ProgressIndicator",b=r.forwardRef((e,t)=>{var a;let{__scopeProgress:r,...n}=e,l=p(g,r);return(0,s.jsx)(u.sG.div,{"data-state":w(l.value,l.max),"data-value":null!==(a=l.value)&&void 0!==a?a:void 0,"data-max":l.max,...n,ref:t})});function j(e,t){return"".concat(Math.round(e/t*100),"%")}function w(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function y(e){return"number"==typeof e}function N(e){return y(e)&&!isNaN(e)&&e>0}function A(e,t){return y(e)&&!isNaN(e)&&e<=t&&e>=0}b.displayName=g;var k=a(3999);function _(e){let{className:t,value:a,...r}=e;return(0,s.jsx)(v,{"data-slot":"progress",className:(0,k.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...r,children:(0,s.jsx)(b,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})}var P=a(9946);let z=(0,P.A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),C=(0,P.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),L=(0,P.A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);var R=a(7924),U=a(883),Z=a(7168);let q=[{value:"name",label:"Name"},{value:"questionsAnswered",label:"Questions Answered"},{value:"accuracyPercentage",label:"Accuracy %"}];function E(){let[e,t]=(0,r.useState)([]),[a,d]=(0,r.useState)(""),[u,x]=(0,r.useState)("name");(0,r.useEffect)(()=>{fetch(U.H+"/users").then(e=>e.json()).then(e=>t(e.map(e=>(e.accuracyPercentage=e.correct_answers_count/e.questions_answered_count*100,e))))},[]);let m=e.filter(e=>e.name.toLowerCase().includes(a.toLowerCase())).sort((e,t)=>{switch(u){case"questionsAnswered":return t.questions_answered_count-e.questions_answered_count;case"accuracyPercentage":return t.accuracyPercentage-e.accuracyPercentage;default:return e.name.localeCompare(t.name)}}),h=e.reduce((e,t)=>e+t.questions_answered_count,0),f=e.reduce((e,t)=>e+t.accuracyPercentage,0)/e.length,p=e=>e>=90?"bg-green-100 text-green-800 hover:bg-green-100":e>=80?"bg-blue-100 text-blue-800 hover:bg-blue-100":e>=70?"bg-yellow-100 text-yellow-800 hover:bg-yellow-100":"bg-red-100 text-red-800 hover:bg-red-100";return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-balance",children:"User Analytics"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Track user performance and engagement"})]}),(0,s.jsx)(Z.$,{onClick:S,children:"Export Data"})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(l.ZB,{className:"text-sm font-medium",children:"Active Users"}),(0,s.jsx)(z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(l.Wu,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.length})})]}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(l.ZB,{className:"text-sm font-medium",children:"Questions Answered"}),(0,s.jsx)(C,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(l.Wu,{children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:h.toLocaleString()}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total across all users"})]})]}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(l.ZB,{className:"text-sm font-medium",children:"Average Accuracy"}),(0,s.jsx)(L,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsxs)(l.Wu,{children:[(0,s.jsxs)("div",{className:"text-2xl font-bold",children:[f.toFixed(1),"%"]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Across all users"})]})]})]}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsx)(l.aR,{children:(0,s.jsx)(l.ZB,{children:"Search & Filter"})}),(0,s.jsx)(l.Wu,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(R.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)(n.p,{placeholder:"Search users...",value:a,onChange:e=>d(e.target.value),className:"pl-10"})]})}),(0,s.jsx)("div",{className:"flex gap-2",children:(0,s.jsxs)(c.l6,{value:u,onValueChange:x,children:[(0,s.jsx)(c.bq,{className:"w-48",children:(0,s.jsx)(c.yv,{placeholder:"Sort by"})}),(0,s.jsx)(c.gC,{children:q.map(e=>(0,s.jsx)(c.eb,{value:e.value,children:e.label},e.value))})]})})]})})]}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsx)(l.aR,{children:(0,s.jsxs)(l.ZB,{children:["Users (",m.length,")"]})}),(0,s.jsx)(l.Wu,{children:(0,s.jsx)("div",{className:"rounded-md border",children:(0,s.jsxs)(o.XI,{children:[(0,s.jsx)(o.A0,{children:(0,s.jsxs)(o.Hj,{children:[(0,s.jsx)(o.nd,{children:"User"}),(0,s.jsx)(o.nd,{children:"Questions Answered"}),(0,s.jsx)(o.nd,{children:"Correct Answers"}),(0,s.jsx)(o.nd,{children:"Accuracy"})]})}),(0,s.jsx)(o.BF,{children:m.map(e=>(0,s.jsxs)(o.Hj,{children:[(0,s.jsx)("div",{className:"font-medium p-2",children:e.name}),(0,s.jsx)(o.nA,{children:(0,s.jsx)(i.E,{variant:"secondary",children:e.questions_answered_count})}),(0,s.jsx)(o.nA,{children:(0,s.jsx)(i.E,{variant:"outline",children:e.correct_answers_count})}),(0,s.jsx)(o.nA,{children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)(i.E,{variant:"secondary",className:p(e.accuracyPercentage),children:[e.accuracyPercentage.toFixed(1),"%"]})}),(0,s.jsx)(_,{value:e.accuracyPercentage,className:"h-1 w-16"})]})})]},e.id))})]})})})]})]})}async function S(){try{let e=await fetch("http://localhost:3000/exportData");if(!e.ok)return;let t=await e.blob(),a=window.URL.createObjectURL(t),s=document.createElement("a");s.href=a,s.download="export.pdf",document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(a)}catch(e){console.error("Download failed:",e),alert("Something went wrong while downloading!")}}},5784:(e,t,a)=>{"use strict";a.d(t,{bq:()=>u,eb:()=>m,gC:()=>x,l6:()=>c,yv:()=>d});var s=a(5155);a(2115);var r=a(8715),n=a(6474),l=a(5196),i=a(7863),o=a(3999);function c(e){let{...t}=e;return(0,s.jsx)(r.bL,{"data-slot":"select",...t})}function d(e){let{...t}=e;return(0,s.jsx)(r.WT,{"data-slot":"select-value",...t})}function u(e){let{className:t,size:a="default",children:l,...i}=e;return(0,s.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":a,className:(0,o.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i,children:[l,(0,s.jsx)(r.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function x(e){let{className:t,children:a,position:n="popper",...l}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsxs)(r.UC,{"data-slot":"select-content",className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...l,children:[(0,s.jsx)(h,{}),(0,s.jsx)(r.LM,{className:(0,o.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,s.jsx)(f,{})]})})}function m(e){let{className:t,children:a,...n}=e;return(0,s.jsxs)(r.q7,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(l.A,{className:"size-4"})})}),(0,s.jsx)(r.p4,{children:a})]})}function h(e){let{className:t,...a}=e;return(0,s.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(i.A,{className:"size-4"})})}function f(e){let{className:t,...a}=e;return(0,s.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(n.A,{className:"size-4"})})}},8145:(e,t,a)=>{"use strict";a.d(t,{E:()=>o});var s=a(5155);a(2115);var r=a(9708),n=a(2085),l=a(3999);let i=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:a,asChild:n=!1,...o}=e,c=n?r.DX:"span";return(0,s.jsx)(c,{"data-slot":"badge",className:(0,l.cn)(i({variant:a}),t),...o})}},8524:(e,t,a)=>{"use strict";a.d(t,{A0:()=>l,BF:()=>i,Hj:()=>o,XI:()=>n,nA:()=>d,nd:()=>c});var s=a(5155);a(2115);var r=a(3999);function n(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",t),...a})})}function l(e){let{className:t,...a}=e;return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...a})}function c(e){let{className:t,...a}=e;return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}function d(e){let{className:t,...a}=e;return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}},9852:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var s=a(5155);a(2115);var r=a(3999);function n(e){let{className:t,type:a,...n}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}}},e=>{var t=t=>e(e.s=t);e.O(0,[543,23,590,672,441,684,358],()=>t(2684)),_N_E=e.O()}]);